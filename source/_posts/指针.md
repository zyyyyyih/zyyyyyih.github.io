---
title: 指针
tags:
  - C++
  - 指针
  - C
categories:
  - 学习
abbrlink: '73608288'
date: 2020-11-05 19:13:09
---
# 什么是指针
## 内存
**计算机的储存单位**
二进制的位，即bit
8bit == 一字节
1024字节 == 1KB
1024KB == 1MB
1024MB == 1GB
1024GB == 1TB
***小扩展***
你们可能还在测网速时见过几十兆的网速，但是实际使用只有几mb/s
或者办了个100兆的宽带
他们的单位其实是Mbps
Mbps是megabits per second的缩写，是一种传输速率单位，指每秒传输的位（比特）数量。
单位是兆位每秒。
所以100Mbps == （100 / 8）MB/s

回到计算机储存
计算机的内存是以字节为单位的一片连续的储存空间，每一个字节都有一个编号，这个编号就称为**内存地址**
**每个变量的地址是指该变量所占储存单元的第一个字节的地址**
上面这句加粗的话要重点理解，对后面的指针的各种操作和理解有很大作用

我们先来看一个例子，理解上面这几句话的众多细节

在C/C++源码中`int a = 5;`会申请一个什么样子的内存呢
（先不急着看懂，往下看）
![](https://gitee.com/zyyyyyih/picture-bed/raw/master/img/20201205202838.png)

由于`int`类型的变量申请的是4个字节的内存，而一个字节是有8bit的
所以我们会有一个4X8的矩阵，同时前面说过，每一个字节都有一个地址，所以每一行前面都会有一个地址
而前面还说过，每个变量的地址是指该变量所占储存单元的第一个字节的地址，所以这个a的地址是第一行的 1250231
此时可以通过`&a`取出a在内存中的地址，为1250231
由因为bit是二进制储存的形式，所以将5转换位二进制储存在内存中
再回到图中，是不是很清晰了。
需要注意的是，int类型的变量是带有符号的，所以在这个4x8的矩阵空间中，第一行第一个，代表的是符号，如果这个空间储存的是1的话，那么它表示，这个是个负数，0则表示这是个正数。
## 变量的地址和指针
首先，它是一种特殊的变量
这种变量只是用来存放内存地址的，起名为指针变量
假设定义了一个只存地址的变量p
把a的地址赋值给指针变量p，则指针变量p的值为1250231
接下来，当我们访问a的时候我们访问的是什么？是整数型的变量对应的数值5
当我们访问p的时候访问的是什么？是p所储存的地址1250231
**于是，我们可以通过指针变量间接的访问改地址中原来的值，形式为`*p`**
## 定义指针变量

类型名 *指针变量名
eg:`int *p`
表示p是一个存放int类型变量的地址的一个指针
此时有个概念叫，p的基类型是int类型，它只能存放int类型的变量的地址
那么如何给它赋值呢？
注意：
1. 定义时赋值   `int *p = &a`
2. 定义后赋值   `p = &a`

补充小点：指向指针的指针
`int **p, k, *s = &k;`
`p = &s;`
这里的p，就是一个指向指针的指针
